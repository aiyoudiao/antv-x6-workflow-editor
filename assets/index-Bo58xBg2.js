import{t as Le,r as c,C as G,a as he,b0 as De,aY as ge,cg as pe,ch as Ge,ci as Te,cj as _e,ah as x,cf as k,ck as Ve,cl as Ue,cm as Je,b7 as N,b8 as S,k as t,aa as Ke,cn as qe,co as $,J as w,cp as O}from"./index-Beo1mNQH.js";import{G as me,E as Xe,d as Ye,e as Ze,C as Qe,S as et,K as tt,H as nt,b as rt,f as ot,T as st,D as it,m as at,N as xe,M as ct,a as ve}from"./index-e5ux6LFM.js";import{F as P}from"./index-CAQd9VeQ.js";import{C as m}from"./index-DlsGbfBA.js";import{I as ce}from"./index-D2EbeJEj.js";import{T as le}from"./index-DP4XQLnY.js";import{S as lt}from"./index-Dn-QnxP6.js";import{R as E}from"./EllipsisOutlined-CS0yK1mc.js";import{a as be,u as je,L as dt,S as ut}from"./Sider-6bL4av8F.js";import"./throttle-BJiVXReG.js";import"./row-DkELjMb0.js";import"./responsiveObserver-CMvHzPCj.js";import"./Overflow-DEftUjOh.js";import"./SearchOutlined-VbCux8PB.js";import"./DownOutlined-LgYLfOcX.js";import"./LeftOutlined-gepVVaZH.js";function ft(r,e,n){return typeof n=="boolean"?n:r.length?!0:Le(e).some(i=>i.type===be)}var Ce=function(r,e){var n={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&e.indexOf(o)<0&&(n[o]=r[o]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(r);i<o.length;i++)e.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(r,o[i])&&(n[o[i]]=r[o[i]]);return n};function _(r){let{suffixCls:e,tagName:n,displayName:o}=r;return i=>c.forwardRef((h,p)=>c.createElement(i,Object.assign({ref:p,suffixCls:e,tagName:n},h)))}const X=c.forwardRef((r,e)=>{const{prefixCls:n,suffixCls:o,className:i,tagName:u}=r,h=Ce(r,["prefixCls","suffixCls","className","tagName"]),{getPrefixCls:p}=c.useContext(G),f=p("layout",n),[a,d,s]=je(f),l=o?`${f}-${o}`:f;return a(c.createElement(u,Object.assign({className:he(n||l,i,d,s),ref:e},h)))}),ht=c.forwardRef((r,e)=>{const{direction:n}=c.useContext(G),[o,i]=c.useState([]),{prefixCls:u,className:h,rootClassName:p,children:f,hasSider:a,tagName:d,style:s}=r,l=Ce(r,["prefixCls","className","rootClassName","children","hasSider","tagName","style"]),g=De(l,["suffixCls"]),{getPrefixCls:j,layout:v}=c.useContext(G),b=j("layout",u),z=ft(o,f,a),[W,A,Fe]=je(b),He=he(b,{[`${b}-has-sider`]:z,[`${b}-rtl`]:n==="rtl"},v==null?void 0:v.className,h,p,A,Fe),Pe=c.useMemo(()=>({siderHook:{addSider:U=>{i(J=>[].concat(ge(J),[U]))},removeSider:U=>{i(J=>J.filter($e=>$e!==U))}}}),[]);return W(c.createElement(dt.Provider,{value:Pe},c.createElement(d,Object.assign({ref:e,className:He,style:Object.assign(Object.assign({},v==null?void 0:v.style),s)},g),f)))}),gt=_({tagName:"div",displayName:"Layout"})(ht),pt=_({suffixCls:"header",tagName:"header",displayName:"Header"})(X),mt=_({suffixCls:"footer",tagName:"footer",displayName:"Footer"})(X),xt=_({suffixCls:"content",tagName:"main",displayName:"Content"})(X),M=gt;M.Header=pt;M.Footer=mt;M.Content=xt;M.Sider=be;M._InternalSiderContext=ut;let y=null,B=r=>r(),L=[],D={};function de(){const{getContainer:r,duration:e,rtl:n,maxCount:o,top:i}=D,u=(r==null?void 0:r())||document.body;return{getContainer:()=>u,duration:e,rtl:n,maxCount:o,top:i}}const vt=x.forwardRef((r,e)=>{const{messageConfig:n,sync:o}=r,{getPrefixCls:i}=c.useContext(G),u=D.prefixCls||i("message"),h=c.useContext(Ue),[p,f]=Je(Object.assign(Object.assign(Object.assign({},n),{prefixCls:u}),h.message));return x.useImperativeHandle(e,()=>{const a=Object.assign({},p);return Object.keys(a).forEach(d=>{a[d]=function(){return o(),p[d].apply(p,arguments)}}),{instance:a,sync:o}}),f}),bt=x.forwardRef((r,e)=>{const[n,o]=x.useState(de),i=()=>{o(de)};x.useEffect(i,[]);const u=Ve(),h=u.getRootPrefixCls(),p=u.getIconPrefixCls(),f=u.getTheme(),a=x.createElement(vt,{ref:e,sync:i,messageConfig:n});return x.createElement(k,{prefixCls:h,iconPrefixCls:p,theme:f},u.holderRender?u.holderRender(a):a)});function V(){if(!y){const r=document.createDocumentFragment(),e={fragment:r};y=e,B(()=>{_e(x.createElement(bt,{ref:n=>{const{instance:o,sync:i}=n||{};Promise.resolve().then(()=>{!e.instance&&o&&(e.instance=o,e.sync=i,V())})}}),r)});return}y.instance&&(L.forEach(r=>{const{type:e,skipped:n}=r;if(!n)switch(e){case"open":{B(()=>{const o=y.instance.open(Object.assign(Object.assign({},D),r.config));o==null||o.then(r.resolve),r.setCloseFn(o)});break}case"destroy":B(()=>{y==null||y.instance.destroy(r.key)});break;default:B(()=>{var o;const i=(o=y.instance)[e].apply(o,ge(r.args));i==null||i.then(r.resolve),r.setCloseFn(i)})}}),L=[])}function jt(r){D=Object.assign(Object.assign({},D),r),B(()=>{var e;(e=y==null?void 0:y.sync)===null||e===void 0||e.call(y)})}function Ct(r){const e=pe(n=>{let o;const i={type:"open",config:r,resolve:n,setCloseFn:u=>{o=u}};return L.push(i),()=>{o?B(()=>{o()}):i.skipped=!0}});return V(),e}function yt(r,e){const n=pe(o=>{let i;const u={type:r,args:e,resolve:o,setCloseFn:h=>{i=h}};return L.push(u),()=>{i?B(()=>{i()}):u.skipped=!0}});return V(),n}const wt=r=>{L.push({type:"destroy",key:r}),V()},kt=["success","info","warning","error","loading"],Nt={open:Ct,destroy:wt,config:jt,useMessage:Ge,_InternalPanelDoNotUseOrYouWillBeFired:Te},K=Nt;kt.forEach(r=>{K[r]=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return yt(r,n)}});var St={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M869 487.8L491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-.7 5.2-2L869 536.2a32.07 32.07 0 000-48.4z"}}]},name:"arrow-right",theme:"outlined"},zt=function(e,n){return c.createElement(N,S({},e,{ref:n,icon:St}))},H=c.forwardRef(zt),Ot={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M296 250c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H296zm184 144H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm-48 458H208V148h560v320c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V108c0-17.7-14.3-32-32-32H168c-17.7 0-32 14.3-32 32v784c0 17.7 14.3 32 32 32h264c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm440-88H728v-36.6c46.3-13.8 80-56.6 80-107.4 0-61.9-50.1-112-112-112s-112 50.1-112 112c0 50.7 33.7 93.6 80 107.4V764H520c-8.8 0-16 7.2-16 16v152c0 8.8 7.2 16 16 16h352c8.8 0 16-7.2 16-16V780c0-8.8-7.2-16-16-16zM646 620c0-27.6 22.4-50 50-50s50 22.4 50 50-22.4 50-50 50-50-22.4-50-50zm180 266H566v-60h260v60z"}}]},name:"audit",theme:"outlined"},Et=function(e,n){return c.createElement(N,S({},e,{ref:n,icon:Ot}))},Rt=c.forwardRef(Et),It={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M856 376H648V168c0-8.8-7.2-16-16-16H168c-8.8 0-16 7.2-16 16v464c0 8.8 7.2 16 16 16h208v208c0 8.8 7.2 16 16 16h464c8.8 0 16-7.2 16-16V392c0-8.8-7.2-16-16-16zm-480 16v188H220V220h360v156H392c-8.8 0-16 7.2-16 16zm204 52v136H444V444h136zm224 360H444V648h188c8.8 0 16-7.2 16-16V444h156v360z"}}]},name:"block",theme:"outlined"},Mt=function(e,n){return c.createElement(N,S({},e,{ref:n,icon:It}))},Wt=c.forwardRef(Mt),At={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656zM340 683v77c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-77c-10.1 3.3-20.8 5-32 5s-21.9-1.8-32-5zm64-198V264c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v221c10.1-3.3 20.8-5 32-5s21.9 1.8 32 5zm-64 198c10.1 3.3 20.8 5 32 5s21.9-1.8 32-5c41.8-13.5 72-52.7 72-99s-30.2-85.5-72-99c-10.1-3.3-20.8-5-32-5s-21.9 1.8-32 5c-41.8 13.5-72 52.7-72 99s30.2 85.5 72 99zm.1-115.7c.3-.6.7-1.2 1-1.8v-.1l1.2-1.8c.1-.2.2-.3.3-.5.3-.5.7-.9 1-1.4.1-.1.2-.3.3-.4.5-.6.9-1.1 1.4-1.6l.3-.3 1.2-1.2.4-.4c.5-.5 1-.9 1.6-1.4.6-.5 1.1-.9 1.7-1.3.2-.1.3-.2.5-.3.5-.3.9-.7 1.4-1 .1-.1.3-.2.4-.3.6-.4 1.2-.7 1.9-1.1.1-.1.3-.1.4-.2.5-.3 1-.5 1.6-.8l.6-.3c.7-.3 1.3-.6 2-.8.7-.3 1.4-.5 2.1-.7.2-.1.4-.1.6-.2.6-.2 1.1-.3 1.7-.4.2 0 .3-.1.5-.1.7-.2 1.5-.3 2.2-.4.2 0 .3 0 .5-.1.6-.1 1.2-.1 1.8-.2h.6c.8 0 1.5-.1 2.3-.1s1.5 0 2.3.1h.6c.6 0 1.2.1 1.8.2.2 0 .3 0 .5.1.7.1 1.5.2 2.2.4.2 0 .3.1.5.1.6.1 1.2.3 1.7.4.2.1.4.1.6.2.7.2 1.4.4 2.1.7.7.2 1.3.5 2 .8l.6.3c.5.2 1.1.5 1.6.8.1.1.3.1.4.2.6.3 1.3.7 1.9 1.1.1.1.3.2.4.3.5.3 1 .6 1.4 1 .2.1.3.2.5.3.6.4 1.2.9 1.7 1.3s1.1.9 1.6 1.4l.4.4 1.2 1.2.3.3c.5.5 1 1.1 1.4 1.6.1.1.2.3.3.4.4.4.7.9 1 1.4.1.2.2.3.3.5l1.2 1.8s0 .1.1.1a36.18 36.18 0 015.1 18.5c0 6-1.5 11.7-4.1 16.7-.3.6-.7 1.2-1 1.8 0 0 0 .1-.1.1l-1.2 1.8c-.1.2-.2.3-.3.5-.3.5-.7.9-1 1.4-.1.1-.2.3-.3.4-.5.6-.9 1.1-1.4 1.6l-.3.3-1.2 1.2-.4.4c-.5.5-1 .9-1.6 1.4-.6.5-1.1.9-1.7 1.3-.2.1-.3.2-.5.3-.5.3-.9.7-1.4 1-.1.1-.3.2-.4.3-.6.4-1.2.7-1.9 1.1-.1.1-.3.1-.4.2-.5.3-1 .5-1.6.8l-.6.3c-.7.3-1.3.6-2 .8-.7.3-1.4.5-2.1.7-.2.1-.4.1-.6.2-.6.2-1.1.3-1.7.4-.2 0-.3.1-.5.1-.7.2-1.5.3-2.2.4-.2 0-.3 0-.5.1-.6.1-1.2.1-1.8.2h-.6c-.8 0-1.5.1-2.3.1s-1.5 0-2.3-.1h-.6c-.6 0-1.2-.1-1.8-.2-.2 0-.3 0-.5-.1-.7-.1-1.5-.2-2.2-.4-.2 0-.3-.1-.5-.1-.6-.1-1.2-.3-1.7-.4-.2-.1-.4-.1-.6-.2-.7-.2-1.4-.4-2.1-.7-.7-.2-1.3-.5-2-.8l-.6-.3c-.5-.2-1.1-.5-1.6-.8-.1-.1-.3-.1-.4-.2-.6-.3-1.3-.7-1.9-1.1-.1-.1-.3-.2-.4-.3-.5-.3-1-.6-1.4-1-.2-.1-.3-.2-.5-.3-.6-.4-1.2-.9-1.7-1.3s-1.1-.9-1.6-1.4l-.4-.4-1.2-1.2-.3-.3c-.5-.5-1-1.1-1.4-1.6-.1-.1-.2-.3-.3-.4-.4-.4-.7-.9-1-1.4-.1-.2-.2-.3-.3-.5l-1.2-1.8v-.1c-.4-.6-.7-1.2-1-1.8-2.6-5-4.1-10.7-4.1-16.7s1.5-11.7 4.1-16.7zM620 539v221c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V539c-10.1 3.3-20.8 5-32 5s-21.9-1.8-32-5zm64-198v-77c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v77c10.1-3.3 20.8-5 32-5s21.9 1.8 32 5zm-64 198c10.1 3.3 20.8 5 32 5s21.9-1.8 32-5c41.8-13.5 72-52.7 72-99s-30.2-85.5-72-99c-10.1-3.3-20.8-5-32-5s-21.9 1.8-32 5c-41.8 13.5-72 52.7-72 99s30.2 85.5 72 99zm.1-115.7c.3-.6.7-1.2 1-1.8v-.1l1.2-1.8c.1-.2.2-.3.3-.5.3-.5.7-.9 1-1.4.1-.1.2-.3.3-.4.5-.6.9-1.1 1.4-1.6l.3-.3 1.2-1.2.4-.4c.5-.5 1-.9 1.6-1.4.6-.5 1.1-.9 1.7-1.3.2-.1.3-.2.5-.3.5-.3.9-.7 1.4-1 .1-.1.3-.2.4-.3.6-.4 1.2-.7 1.9-1.1.1-.1.3-.1.4-.2.5-.3 1-.5 1.6-.8l.6-.3c.7-.3 1.3-.6 2-.8.7-.3 1.4-.5 2.1-.7.2-.1.4-.1.6-.2.6-.2 1.1-.3 1.7-.4.2 0 .3-.1.5-.1.7-.2 1.5-.3 2.2-.4.2 0 .3 0 .5-.1.6-.1 1.2-.1 1.8-.2h.6c.8 0 1.5-.1 2.3-.1s1.5 0 2.3.1h.6c.6 0 1.2.1 1.8.2.2 0 .3 0 .5.1.7.1 1.5.2 2.2.4.2 0 .3.1.5.1.6.1 1.2.3 1.7.4.2.1.4.1.6.2.7.2 1.4.4 2.1.7.7.2 1.3.5 2 .8l.6.3c.5.2 1.1.5 1.6.8.1.1.3.1.4.2.6.3 1.3.7 1.9 1.1.1.1.3.2.4.3.5.3 1 .6 1.4 1 .2.1.3.2.5.3.6.4 1.2.9 1.7 1.3s1.1.9 1.6 1.4l.4.4 1.2 1.2.3.3c.5.5 1 1.1 1.4 1.6.1.1.2.3.3.4.4.4.7.9 1 1.4.1.2.2.3.3.5l1.2 1.8v.1a36.18 36.18 0 015.1 18.5c0 6-1.5 11.7-4.1 16.7-.3.6-.7 1.2-1 1.8v.1l-1.2 1.8c-.1.2-.2.3-.3.5-.3.5-.7.9-1 1.4-.1.1-.2.3-.3.4-.5.6-.9 1.1-1.4 1.6l-.3.3-1.2 1.2-.4.4c-.5.5-1 .9-1.6 1.4-.6.5-1.1.9-1.7 1.3-.2.1-.3.2-.5.3-.5.3-.9.7-1.4 1-.1.1-.3.2-.4.3-.6.4-1.2.7-1.9 1.1-.1.1-.3.1-.4.2-.5.3-1 .5-1.6.8l-.6.3c-.7.3-1.3.6-2 .8-.7.3-1.4.5-2.1.7-.2.1-.4.1-.6.2-.6.2-1.1.3-1.7.4-.2 0-.3.1-.5.1-.7.2-1.5.3-2.2.4-.2 0-.3 0-.5.1-.6.1-1.2.1-1.8.2h-.6c-.8 0-1.5.1-2.3.1s-1.5 0-2.3-.1h-.6c-.6 0-1.2-.1-1.8-.2-.2 0-.3 0-.5-.1-.7-.1-1.5-.2-2.2-.4-.2 0-.3-.1-.5-.1-.6-.1-1.2-.3-1.7-.4-.2-.1-.4-.1-.6-.2-.7-.2-1.4-.4-2.1-.7-.7-.2-1.3-.5-2-.8l-.6-.3c-.5-.2-1.1-.5-1.6-.8-.1-.1-.3-.1-.4-.2-.6-.3-1.3-.7-1.9-1.1-.1-.1-.3-.2-.4-.3-.5-.3-1-.6-1.4-1-.2-.1-.3-.2-.5-.3-.6-.4-1.2-.9-1.7-1.3s-1.1-.9-1.6-1.4l-.4-.4-1.2-1.2-.3-.3c-.5-.5-1-1.1-1.4-1.6-.1-.1-.2-.3-.3-.4-.4-.4-.7-.9-1-1.4-.1-.2-.2-.3-.3-.5l-1.2-1.8v-.1c-.4-.6-.7-1.2-1-1.8-2.6-5-4.1-10.7-4.1-16.7s1.5-11.7 4.1-16.7z"}}]},name:"control",theme:"outlined"},Bt=function(e,n){return c.createElement(N,S({},e,{ref:n,icon:At}))},ye=c.forwardRef(Bt),Ft={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M945 412H689c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h256c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM811 548H689c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h122c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM477.3 322.5H434c-6.2 0-11.2 5-11.2 11.2v248c0 3.6 1.7 6.9 4.6 9l148.9 108.6c5 3.6 12 2.6 15.6-2.4l25.7-35.1v-.1c3.6-5 2.5-12-2.5-15.6l-126.7-91.6V333.7c.1-6.2-5-11.2-11.1-11.2z"}},{tag:"path",attrs:{d:"M804.8 673.9H747c-5.6 0-10.9 2.9-13.9 7.7a321 321 0 01-44.5 55.7 317.17 317.17 0 01-101.3 68.3c-39.3 16.6-81 25-124 25-43.1 0-84.8-8.4-124-25-37.9-16-72-39-101.3-68.3s-52.3-63.4-68.3-101.3c-16.6-39.2-25-80.9-25-124 0-43.1 8.4-84.7 25-124 16-37.9 39-72 68.3-101.3 29.3-29.3 63.4-52.3 101.3-68.3 39.2-16.6 81-25 124-25 43.1 0 84.8 8.4 124 25 37.9 16 72 39 101.3 68.3a321 321 0 0144.5 55.7c3 4.8 8.3 7.7 13.9 7.7h57.8c6.9 0 11.3-7.2 8.2-13.3-65.2-129.7-197.4-214-345-215.7-216.1-2.7-395.6 174.2-396 390.1C71.6 727.5 246.9 903 463.2 903c149.5 0 283.9-84.6 349.8-215.8a9.18 9.18 0 00-8.2-13.3z"}}]},name:"field-time",theme:"outlined"},Ht=function(e,n){return c.createElement(N,S({},e,{ref:n,icon:Ft}))},Pt=c.forwardRef(Ht),$t={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M248 752h72V264h-72z"}},{tag:"path",attrs:{d:"M740 863c61.86 0 112-50.14 112-112 0-48.33-30.6-89.5-73.5-105.2l-.01-113.04a50.73 50.73 0 00-34.95-48.2l-434.9-142.41-22.4 68.42 420.25 137.61.01 95.92C661 658.34 628 700.8 628 751c0 61.86 50.14 112 112 112m-456 61c61.86 0 112-50.14 112-112s-50.14-112-112-112-112 50.14-112 112 50.14 112 112 112m456-125a48 48 0 110-96 48 48 0 010 96m-456 61a48 48 0 110-96 48 48 0 010 96m0-536c61.86 0 112-50.14 112-112s-50.14-112-112-112-112 50.14-112 112 50.14 112 112 112m0-64a48 48 0 110-96 48 48 0 010 96"}}]},name:"merge",theme:"outlined"},Lt=function(e,n){return c.createElement(N,S({},e,{ref:n,icon:$t}))},Dt=c.forwardRef(Lt),Gt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M931.4 498.9L94.9 79.5c-3.4-1.7-7.3-2.1-11-1.2a15.99 15.99 0 00-11.7 19.3l86.2 352.2c1.3 5.3 5.2 9.6 10.4 11.3l147.7 50.7-147.6 50.7c-5.2 1.8-9.1 6-10.3 11.3L72.2 926.5c-.9 3.7-.5 7.6 1.2 10.9 3.9 7.9 13.5 11.1 21.5 7.2l836.5-417c3.1-1.5 5.6-4.1 7.2-7.1 3.9-8 .7-17.6-7.2-21.6zM170.8 826.3l50.3-205.6 295.2-101.3c2.3-.8 4.2-2.6 5-5 1.4-4.2-.8-8.7-5-10.2L221.1 403 171 198.2l628 314.9-628.2 313.2z"}}]},name:"send",theme:"outlined"},Tt=function(e,n){return c.createElement(N,S({},e,{ref:n,icon:Gt}))},_t=c.forwardRef(Tt),Vt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 009.3-35.2l-.9-2.6a443.74 443.74 0 00-79.7-137.9l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.4a351.86 351.86 0 00-99 57.4l-81.9-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a446.02 446.02 0 00-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0025.8 25.7l2.7.5a449.4 449.4 0 00159 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-85a350 350 0 0099.7-57.6l81.3 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 01-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 01-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 01624 502c0 29.9-11.7 58-32.8 79.2z"}}]},name:"setting",theme:"outlined"},Ut=function(e,n){return c.createElement(N,S({},e,{ref:n,icon:Vt}))},R=c.forwardRef(Ut),Jt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M752 664c-28.5 0-54.8 10-75.4 26.7L469.4 540.8a160.68 160.68 0 000-57.6l207.2-149.9C697.2 350 723.5 360 752 360c66.2 0 120-53.8 120-120s-53.8-120-120-120-120 53.8-120 120c0 11.6 1.6 22.7 4.7 33.3L439.9 415.8C410.7 377.1 364.3 352 312 352c-88.4 0-160 71.6-160 160s71.6 160 160 160c52.3 0 98.7-25.1 127.9-63.8l196.8 142.5c-3.1 10.6-4.7 21.8-4.7 33.3 0 66.2 53.8 120 120 120s120-53.8 120-120-53.8-120-120-120zm0-476c28.7 0 52 23.3 52 52s-23.3 52-52 52-52-23.3-52-52 23.3-52 52-52zM312 600c-48.5 0-88-39.5-88-88s39.5-88 88-88 88 39.5 88 88-39.5 88-88 88zm440 236c-28.7 0-52-23.3-52-52s23.3-52 52-52 52 23.3 52 52-23.3 52-52 52z"}}]},name:"share-alt",theme:"outlined"},Kt=function(e,n){return c.createElement(N,S({},e,{ref:n,icon:Jt}))},qt=c.forwardRef(Kt),Xt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M824.2 699.9a301.55 301.55 0 00-86.4-60.4C783.1 602.8 812 546.8 812 484c0-110.8-92.4-201.7-203.2-200-109.1 1.7-197 90.6-197 200 0 62.8 29 118.8 74.2 155.5a300.95 300.95 0 00-86.4 60.4C345 754.6 314 826.8 312 903.8a8 8 0 008 8.2h56c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5A226.62 226.62 0 01612 684c60.9 0 118.2 23.7 161.3 66.8C814.5 792 838 846.3 840 904.3c.1 4.3 3.7 7.7 8 7.7h56a8 8 0 008-8.2c-2-77-33-149.2-87.8-203.9zM612 612c-34.2 0-66.4-13.3-90.5-37.5a126.86 126.86 0 01-37.5-91.8c.3-32.8 13.4-64.5 36.3-88 24-24.6 56.1-38.3 90.4-38.7 33.9-.3 66.8 12.9 91 36.6 24.8 24.3 38.4 56.8 38.4 91.4 0 34.2-13.3 66.3-37.5 90.5A127.3 127.3 0 01612 612zM361.5 510.4c-.9-8.7-1.4-17.5-1.4-26.4 0-15.9 1.5-31.4 4.3-46.5.7-3.6-1.2-7.3-4.5-8.8-13.6-6.1-26.1-14.5-36.9-25.1a127.54 127.54 0 01-38.7-95.4c.9-32.1 13.8-62.6 36.3-85.6 24.7-25.3 57.9-39.1 93.2-38.7 31.9.3 62.7 12.6 86 34.4 7.9 7.4 14.7 15.6 20.4 24.4 2 3.1 5.9 4.4 9.3 3.2 17.6-6.1 36.2-10.4 55.3-12.4 5.6-.6 8.8-6.6 6.3-11.6-32.5-64.3-98.9-108.7-175.7-109.9-110.9-1.7-203.3 89.2-203.3 199.9 0 62.8 28.9 118.8 74.2 155.5-31.8 14.7-61.1 35-86.5 60.4-54.8 54.7-85.8 126.9-87.8 204a8 8 0 008 8.2h56.1c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5 29.4-29.4 65.4-49.8 104.7-59.7 3.9-1 6.5-4.7 6-8.7z"}}]},name:"team",theme:"outlined"},Yt=function(e,n){return c.createElement(N,S({},e,{ref:n,icon:Xt}))},Zt=c.forwardRef(Yt),Qt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"},en=function(e,n){return c.createElement(N,S({},e,{ref:n,icon:Qt}))},tn=c.forwardRef(en);const we=c.createContext({}),nn=({children:r})=>{const[e,n]=c.useState(),[o,i]=c.useState(),[u,h]=c.useState({canRedo:!1,canUndo:!1});return t.jsx(we.Provider,{value:{graph:e,setGraph:n,graphDnd:o,setGraphDnd:i,history:u,setHistory:h},children:r})},Y=()=>{const r=c.useContext(we);if(!r)throw new Error("useGraphContext must be used within a GraphProvider");return r},rn=()=>{const[r,e]=c.useState(!1),n=c.useRef(null),o=c.useRef(null),[i,u]=c.useState(null),[h,p]=c.useState(null),f=c.useCallback(()=>{var s,l,g,j;const a=((l=(s=n.current)==null?void 0:s.parentElement)==null?void 0:l.offsetWidth)||800,d=((j=(g=n.current)==null?void 0:g.parentElement)==null?void 0:j.offsetHeight)||600;return{graphWidth:a,graphHeight:d}},[n]);return c.useEffect(()=>{if(!n.current||!o.current)return;const{graphWidth:a,graphHeight:d}=f(),s=new me({container:n.current,width:a,height:d,grid:{visible:!0,type:"doubleMesh",args:[{color:"#eee",thickness:1},{color:"#ddd",thickness:1,factor:4}]},background:{color:"#FFF"},mousewheel:{enabled:!0,global:!1,modifiers:[],minScale:.2,maxScale:4},highlighting:{magnetAvailable:{name:"stroke",args:{attrs:{fill:"#fff",stroke:"#A4DEB1",strokeWidth:4}}},magnetAdsorbed:{name:"stroke",args:{attrs:{fill:"#fff",stroke:"#31d0c6",strokeWidth:4}}}},embedding:{enabled:!0,findParent({node:g}){const j=g.getBBox();return this.getNodes().filter(v=>{const b=v.getData();if(b&&b.parent){const z=v.getBBox();return j.isIntersectWithRect(z)}return!1})}},connecting:{router:"manhattan",connector:{name:"rounded",args:{radius:8}},anchor:"center",connectionPoint:"anchor",allowNode:!1,allowBlank:!1,highlight:!0,snap:{radius:20},createEdge(){return new Xe({attrs:{line:{stroke:"#5F95FF",strokeWidth:2,targetMarker:{name:"block",width:12,height:8}}},zIndex:0})},validateConnection({targetMagnet:g}){return!!g}},interacting:!0});window.__graphEntity=s,s.use(new Ye),s.use(new Ze({enabled:!0})),s.use(new Qe({enabled:!0,useLocalStorage:!0})),s.use(new et({enabled:!0,showNodeSelectionBox:!0})),s.use(new tt({enabled:!0,global:!1})),s.use(new nt({enabled:!0})),s.use(new rt({enabled:!0,pageVisible:!1,pageBreak:!1,autoResize:!0,pannable:!0})),s.use(new ot({container:o.current,width:200,height:160,padding:10,minScale:.2,maxScale:4,scalable:!0})),s.use(new st({rotating:!0}));const l=new it({target:s,dndContainer:document.getElementById("dnd-container"),getDragNode:g=>g.clone({keepId:!0}),getDropNode:g=>g.clone({keepId:!0})});return u(s),p(l),e(!0),()=>{s.dispose()}},[]),{containerRef:n,miniMapRef:o,graphEntity:i,dndEntity:h,getGraphAreaInfo:f,isReady:r}};class ue extends xe{}(function(r){function e(n){const o=[],i=ct.getForeignObjectMarkup();return n?o.push({tagName:n,selector:"body"},i):o.push(i),o}r.config({view:"react-shape-view",markup:e(),attrs:{body:{fill:"none",stroke:"none",refWidth:"100%",refHeight:"100%"},fo:{refWidth:"100%",refHeight:"100%"}},propHooks(n){if(n.markup==null){const o=n.primer;if(o){n.markup=e(o);let i={};switch(o){case"circle":i={refCx:"50%",refCy:"50%",refR:"50%"};break;case"ellipse":i={refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%"};break}n.attrs=at({},{body:Object.assign({refWidth:null,refHeight:null},i)},n.attrs||{})}}return n}}),xe.registry.register("react-shape",r,!0)})(ue||(ue={}));var F;(function(r){let e=!1,n;const o=(f,a)=>{const d=a.payload;switch(a.type){case"add":{const s=f.findIndex(l=>l.id===d.id);return s>=0?(f[s]=d,[...f]):[...f,d]}case"remove":{const s=f.findIndex(l=>l.id===d.id);if(s>=0){const l=[...f];return l.splice(s,1),l}break}}return f};function i(f,a){e&&n({type:"add",payload:{id:f,portal:a}})}r.connect=i;function u(f){e&&n({type:"remove",payload:{id:f}})}r.disconnect=u;function h(){return e}r.isActive=h;function p(){return()=>{e=!0;const[f,a]=c.useReducer(o,[]);return n=a,x.createElement(x.Fragment,{children:f.map(d=>d.portal)})}}r.getProvider=p})(F||(F={}));var on=function(r,e){var n={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&e.indexOf(o)<0&&(n[o]=r[o]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(r);i<o.length;i++)e.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(r,o[i])&&(n[o[i]]=r[o[i]]);return n};const q={};function I(r){const{shape:e,component:n,effect:o,inherit:i}=r,u=on(r,["shape","component","effect","inherit"]);if(!e)throw new Error("should specify shape in config");q[e]={component:n,effect:o},me.registerNode(e,Object.assign({inherit:i||"react-shape"},u),!0)}class sn extends x.PureComponent{constructor(e){super(e),this.state={tick:0}}componentDidMount(){const{node:e}=this.props;e.on("change:*",({key:n})=>{const o=q[e.shape];if(o){const{effect:i}=o;(!i||i.includes(n))&&this.setState({tick:this.state.tick+1})}})}clone(e){const{node:n,graph:o}=this.props;return typeof e.type=="string"?x.cloneElement(e):x.cloneElement(e,{node:n,graph:o})}render(){const{node:e}=this.props,n=q[e.shape];if(!n)return null;const{component:o}=n;if(x.isValidElement(o))return this.clone(o);const i=o;return this.clone(x.createElement(i,null))}}class T extends ve{targetId(){return`${this.graph.view.cid}:${this.cell.id}`}getComponentContainer(){return this.selectors&&this.selectors.foContent}confirmUpdate(e){const n=super.confirmUpdate(e);return this.handleAction(n,T.action,()=>{this.renderReactComponent()})}renderReactComponent(){this.unmountReactComponent();const e=this.getComponentContainer(),n=this.cell;if(e){const o=x.createElement(sn,{node:n,graph:this.graph});if(F.isActive()){const i=Ke.createPortal(o,e);F.connect(this.targetId(),i)}else this.root=qe(e),this.root.render(o)}}unmountReactComponent(){this.getComponentContainer()&&this.root&&(this.root.unmount(),this.root=void 0)}onMouseDown(e,n,o){const i=e.target;if(i.tagName.toLowerCase()==="input"){const h=i.getAttribute("type");if(h==null||["text","password","number","email","search","tel","url"].includes(h))return}super.onMouseDown(e,n,o)}unmount(){return F.isActive()&&F.disconnect(this.targetId()),this.unmountReactComponent(),super.unmount(),this}}(function(r){r.action="react",r.config({bootstrap:[r.action],actions:{component:r.action}}),ve.registry.register("react-shape-view",r,!0)})(T||(T={}));const an=F.getProvider(),ke=c.createContext({}),cn=({children:r})=>{const[e,n]=c.useState({}),[o,i]=c.useState([]),[u,h]=c.useState(!1),[p,f]=c.useState(0);return t.jsxs(ke.Provider,{value:{cardList:o,setCardList:i,progress:p,setProgress:f,selectedNode:e,setSelectedNode:n,loading:u,setLoading:h},children:[t.jsx(an,{}),r]})},C=()=>{const r=c.useContext(ke);if(!r)throw new Error("useDataContext must be used within a GraphProvider");return r},ln=()=>{const{containerRef:r,miniMapRef:e,graphEntity:n,dndEntity:o,getGraphAreaInfo:i,isReady:u}=rn(),{setGraph:h,setGraphDnd:p,setHistory:f}=Y(),{setSelectedNode:a}=C();return c.useEffect(()=>{if(!u||!r.current||!e.current||!n||!o)return;r.current.parentElement.addEventListener("resize",()=>{const{graphWidth:s,graphHeight:l}=i();n.resize(s,l)}),n.on("history:change",()=>{f({canRedo:n.canRedo(),canUndo:n.canUndo()})}),n.bindKey(["meta+c","ctrl+c"],()=>{const s=n.getSelectedCells();return s.length&&n.copy(s),!1}),n.bindKey(["meta+x","ctrl+x"],()=>{const s=n.getSelectedCells();return s.length&&n.cut(s),!1}),n.bindKey(["meta+v","ctrl+v"],()=>{if(!n.isClipboardEmpty()){const s=n.paste({offset:32});n.cleanSelection(),n.select(s)}return!1}),n.bindKey(["meta+z","ctrl+z"],()=>(n.canUndo()&&n.undo(),!1)),n.bindKey(["meta+shift+z","ctrl+shift+z"],()=>(n.canRedo()&&n.redo(),!1)),n.bindKey(["meta+a","ctrl+a"],()=>{const s=n.getNodes();s&&n.select(s)}),n.bindKey(["backspace","delete"],()=>{const s=n.getSelectedCells();s.length&&n.removeCells(s)}),n.bindKey(["ctrl+1","meta+1"],()=>{n.zoom()<1.5&&n.zoom(.1)}),n.bindKey(["ctrl+2","meta+2"],()=>{n.zoom()>.5&&n.zoom(-.1)});const d=(s,l)=>{for(let g=0,j=s.length;g<j;g+=1)s[g].style.visibility=l?"visible":"hidden"};n.on("node:mouseenter",()=>{const l=r.current.querySelectorAll(".x6-port-body");d(l,!0)}),n.on("node:mouseleave",()=>{const l=r.current.querySelectorAll(".x6-port-body");d(l,!1)}),window.__x6_instances__=[],h(n),p(o),window.__x6_instances__.push(n),n.on("node:click",({node:s})=>{a(s)}),n.on("cell:mouseenter",({cell:s})=>{s.isEdge()&&s.addTools(["vertices","segments"])}),n.on("cell:mouseleave",({cell:s})=>{s.isEdge()&&s.removeTools()})},[u]),t.jsxs("div",{className:"relative w-full h-full",children:[t.jsx("div",{ref:r,className:"absolute w-full h-full top-0 left-0"}),t.jsx("div",{ref:e,className:"absolute right-3 bottom-3"})]})},dn=({})=>{const[r]=P.useForm(),{selectedNode:e}=C(),[n,o]=c.useState({});c.useEffect(()=>{if(e&&e.getLabel){const u={label:e.getLabel(),color:e.attr("body/stroke")||"#000",width:e.size().width,height:e.size().height};o(u),r.setFieldsValue(u)}},[e,r]);const i=u=>{if(e){const{color:h,width:p,height:f,label:a}=u;a&&e.setLabel(a),h&&e.attr("body/stroke",h),p&&f&&e.resize(p,f)}};return e?t.jsx(m,{title:"属性编辑器",children:t.jsxs(P,{form:r,layout:"vertical",onValuesChange:i,children:[t.jsx(P.Item,{name:"label",label:"节点名称",children:t.jsx(ce,{})}),t.jsx(P.Item,{name:"color",label:"边框颜色",children:t.jsx(ce,{type:"color"})}),t.jsx(P.Item,{name:"width",label:"宽度",children:t.jsx(le,{min:40,max:200})}),t.jsx(P.Item,{name:"height",label:"高度",children:t.jsx(le,{min:20,max:100})})]})}):t.jsx(m,{title:"属性编辑器",children:t.jsx("p",{children:"请选中一个节点或连线以编辑属性。"})})};var Ne={exports:{}};(function(r,e){(function(n,o){o()})($,function(){function n(a,d){return typeof d>"u"?d={autoBom:!1}:typeof d!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),d={autoBom:!d}),d.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}function o(a,d,s){var l=new XMLHttpRequest;l.open("GET",a),l.responseType="blob",l.onload=function(){f(l.response,d,s)},l.onerror=function(){console.error("could not download file")},l.send()}function i(a){var d=new XMLHttpRequest;d.open("HEAD",a,!1);try{d.send()}catch{}return 200<=d.status&&299>=d.status}function u(a){try{a.dispatchEvent(new MouseEvent("click"))}catch{var d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(d)}}var h=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof $=="object"&&$.global===$?$:void 0,p=h.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),f=h.saveAs||(typeof window!="object"||window!==h?function(){}:"download"in HTMLAnchorElement.prototype&&!p?function(a,d,s){var l=h.URL||h.webkitURL,g=document.createElement("a");d=d||a.name||"download",g.download=d,g.rel="noopener",typeof a=="string"?(g.href=a,g.origin===location.origin?u(g):i(g.href)?o(a,d,s):u(g,g.target="_blank")):(g.href=l.createObjectURL(a),setTimeout(function(){l.revokeObjectURL(g.href)},4e4),setTimeout(function(){u(g)},0))}:"msSaveOrOpenBlob"in navigator?function(a,d,s){if(d=d||a.name||"download",typeof a!="string")navigator.msSaveOrOpenBlob(n(a,s),d);else if(i(a))o(a,d,s);else{var l=document.createElement("a");l.href=a,l.target="_blank",setTimeout(function(){u(l)})}}:function(a,d,s,l){if(l=l||open("","_blank"),l&&(l.document.title=l.document.body.innerText="downloading..."),typeof a=="string")return o(a,d,s);var g=a.type==="application/octet-stream",j=/constructor/i.test(h.HTMLElement)||h.safari,v=/CriOS\/[\d]+/.test(navigator.userAgent);if((v||g&&j||p)&&typeof FileReader<"u"){var b=new FileReader;b.onloadend=function(){var A=b.result;A=v?A:A.replace(/^data:[^;]*;/,"data:attachment/file;"),l?l.location.href=A:location=A,l=null},b.readAsDataURL(a)}else{var z=h.URL||h.webkitURL,W=z.createObjectURL(a);l?l.location=W:location.href=W,l=null,setTimeout(function(){z.revokeObjectURL(W)},4e4)}});h.saveAs=f.saveAs=f,r.exports=f})})(Ne);var un=Ne.exports;const fn=()=>{const r=c.useRef(null),{graph:e,history:n}=Y(),{progress:o,setProgress:i}=C(),u=()=>{e&&e.zoom(.1)},h=()=>{e&&e.zoom(-.1)},p=()=>{e&&e.undo()},f=()=>{e&&e.redo()},a=()=>{if(!e)return;const s=e.toJSON(),l=new Blob([JSON.stringify(s,null,2)],{type:"application/json"});un.saveAs(l,"diagram.json"),K.success("导出 JSON 成功")},d=s=>{var j;const l=(j=s.target.files)==null?void 0:j[0];if(!l)return;const g=new FileReader;g.onload=v=>{var b;try{const z=(b=v.target)==null?void 0:b.result;if(typeof z=="string"){const W=JSON.parse(z);e.fromJSON(W)}}catch{K.error("导入JSON 失败")}},g.readAsText(l)};return t.jsx("section",{className:"bg-white text-center",children:t.jsxs(lt,{children:[t.jsx(w,{onClick:()=>{e.zoomTo(1),e.centerContent()},children:"居中"}),t.jsx(w,{onClick:u,children:"放大"}),t.jsx(w,{onClick:h,children:"缩小"}),t.jsx(w,{disabled:!n.canUndo,onClick:p,children:"撤销"}),t.jsx(w,{disabled:!n.canRedo,onClick:f,children:"重做"}),t.jsx("input",{type:"file",className:"hidden",accept:".json",ref:r,onChange:d}),t.jsx(w,{onClick:a,children:"导出 JSON"}),t.jsx(w,{onClick:()=>{var s;return(s=r.current)==null?void 0:s.click()},children:"导入 JSON"}),t.jsx(w,{onClick:()=>{var s;return(s=e==null?void 0:e.exportSVG)==null?void 0:s.call(e,"diagram.svg",{copyStyles:!1})},children:"导出 SVG"}),t.jsx(w,{onClick:()=>{var s;return(s=e==null?void 0:e.exportSVG)==null?void 0:s.call(e,"diagram.png",{copyStyles:!1})},children:"导出 PNG"}),t.jsx(w,{onClick:()=>{var s;return(s=e==null?void 0:e.exportJPEG)==null?void 0:s.call(e,"diagram.jpg",{copyStyles:!1})},children:"导出 JPG"}),t.jsx(w,{onClick:()=>i(o+10),children:"增加进度"})]})})},Z=({node:r})=>{const{loading:e}=C();return t.jsx(k,{theme:{components:{Card:{headerBg:"#7a939d",extraColor:"#fff"}}},children:t.jsx(m,{size:"small",loading:e,actions:[t.jsx(O,{},"edit"),t.jsx(R,{},"setting"),t.jsx(E,{},"ellipsis")],title:t.jsxs("span",{className:"text-white",children:[t.jsx(tn,{})," 发起人"]}),extra:t.jsx(H,{className:"font-semibold"}),children:t.jsx(m.Meta,{description:t.jsx(t.Fragment,{children:t.jsx("p",{children:"所有人"})})})})})},Se={shape:"SponsorNode",width:300,height:125,component:Z,effect:["data"]},hn=()=>I(Se);Z.getNodeConfig=()=>(hn(),{...Se,label:"发起人",ports:{items:[{group:"in",id:"in1",attrs:{circle:{r:5,magnet:!0,stroke:"#000",strokeWidth:2,fill:"transparent"}}},{group:"in",id:"in2",attrs:{circle:{r:5,magnet:!0,stroke:"#000",strokeWidth:2,fill:"transparent"}}},{group:"out",id:"out1",attrs:{circle:{r:5,magnet:!0,stroke:"#000",strokeWidth:2,fill:"transparent"}}},{group:"out",id:"out2",attrs:{circle:{r:5,magnet:!0,stroke:"#000",strokeWidth:2,fill:"transparent"}}}],groups:{in:{position:{name:"top"},attrs:{fo:{width:12,height:12,x:-6,y:-6,magnet:"true"}},zIndex:1},out:{position:{name:"bottom"},attrs:{fo:{width:12,height:12,x:-6,y:-6,magnet:"true"}},zIndex:1}}},data:{color:"#333232",progress:30},tools:["button-remove"]});const Q=({node:r})=>{const{loading:e}=C();return t.jsx(k,{theme:{components:{Card:{headerBg:"#f78f5f",extraColor:"#fff"}}},children:t.jsx(m,{size:"small",loading:e,actions:[t.jsx(O,{},"edit"),t.jsx(R,{},"setting"),t.jsx(E,{},"ellipsis")],title:t.jsxs("span",{className:"text-white",children:[t.jsx(Zt,{})," 审批人"]}),extra:t.jsx(H,{className:"font-semibold"}),children:t.jsx(m.Meta,{description:t.jsx(t.Fragment,{children:t.jsx("p",{children:"请指定审批人"})})})})})},ze={shape:"ApproverNode",width:300,height:125,component:Q,effect:["data"]},gn=()=>I(ze);Q.getNodeConfig=()=>(gn(),{...ze,label:"审批人",ports:{items:[{group:"in",id:"in1",attrs:{circle:{r:5,magnet:!0,stroke:"#000",strokeWidth:2,fill:"transparent"}}},{group:"in",id:"in2",attrs:{circle:{r:5,magnet:!0,stroke:"#000",strokeWidth:2,fill:"transparent"}}},{group:"out",id:"out1",attrs:{circle:{r:5,magnet:!0,stroke:"#000",strokeWidth:2,fill:"transparent"}}},{group:"out",id:"out2",attrs:{circle:{r:5,magnet:!0,stroke:"#000",strokeWidth:2,fill:"transparent"}}}],groups:{in:{position:{name:"top"},attrs:{fo:{width:12,height:12,x:-6,y:-6,magnet:"true"}},zIndex:1},out:{position:{name:"bottom"},attrs:{fo:{width:12,height:12,x:-6,y:-6,magnet:"true"}},zIndex:1}}},data:{color:"#333232",progress:30},tools:["button-remove"]});const ee=({node:r})=>{const{loading:e}=C();return t.jsx(k,{theme:{components:{Card:{headerBg:"#e6b039",extraColor:"#fff"}}},children:t.jsx(m,{size:"small",loading:e,actions:[t.jsx(O,{},"edit"),t.jsx(R,{},"setting"),t.jsx(E,{},"ellipsis")],title:t.jsxs("span",{className:"text-white",children:[t.jsx(Rt,{})," 办理人"]}),extra:t.jsx(H,{className:"font-semibold"}),children:t.jsx(m.Meta,{description:t.jsx(t.Fragment,{children:t.jsx("p",{children:"请指定办理人"})})})})})},Oe={shape:"HandlerNode",width:300,height:125,component:ee,effect:["data"]},pn=()=>I(Oe);ee.getNodeConfig=()=>(pn(),{...Oe,label:"办理人",ports:{items:[{group:"in",id:"in1",attrs:{circle:{r:5,magnet:!0,stroke:"#000",strokeWidth:2,fill:"transparent"}}},{group:"in",id:"in2",attrs:{circle:{r:5,magnet:!0,stroke:"#000",strokeWidth:2,fill:"transparent"}}},{group:"out",id:"out1",attrs:{circle:{r:5,magnet:!0,stroke:"#000",strokeWidth:2,fill:"transparent"}}},{group:"out",id:"out2",attrs:{circle:{r:5,magnet:!0,stroke:"#000",strokeWidth:2,fill:"transparent"}}}],groups:{in:{position:{name:"top"},attrs:{fo:{width:12,height:12,x:-6,y:-6,magnet:"true"}},zIndex:1},out:{position:{name:"bottom"},attrs:{fo:{width:12,height:12,x:-6,y:-6,magnet:"true"}},zIndex:1}}},data:{color:"#333232",progress:30},tools:["button-remove"]});const te=({node:r})=>{const{loading:e}=C();return t.jsx(k,{theme:{components:{Card:{headerBg:"#409eff",extraColor:"#fff"}}},children:t.jsx(m,{size:"small",loading:e,actions:[t.jsx(O,{},"edit"),t.jsx(R,{},"setting"),t.jsx(E,{},"ellipsis")],title:t.jsxs("span",{className:"text-white",children:[t.jsx(_t,{})," 抄送人"]}),extra:t.jsx(H,{className:"font-semibold"}),children:t.jsx(m.Meta,{description:t.jsx(t.Fragment,{children:t.jsx("p",{children:"请设置抄送人"})})})})})},Ee={shape:"CCPeopleNode",width:300,height:125,component:te,effect:["data"]},mn=()=>I(Ee);te.getNodeConfig=()=>(mn(),{...Ee,label:"抄送人",ports:{items:[{group:"in",id:"in1",attrs:{circle:{r:5,magnet:!0,stroke:"#000",strokeWidth:2,fill:"transparent"}}},{group:"in",id:"in2",attrs:{circle:{r:5,magnet:!0,stroke:"#000",strokeWidth:2,fill:"transparent"}}},{group:"out",id:"out1",attrs:{circle:{r:5,magnet:!0,stroke:"#000",strokeWidth:2,fill:"transparent"}}},{group:"out",id:"out2",attrs:{circle:{r:5,magnet:!0,stroke:"#000",strokeWidth:2,fill:"transparent"}}}],groups:{in:{position:{name:"top"},attrs:{fo:{width:12,height:12,x:-6,y:-6,magnet:"true"}},zIndex:1},out:{position:{name:"bottom"},attrs:{fo:{width:12,height:12,x:-6,y:-6,magnet:"true"}},zIndex:1}}},data:{color:"#333232",progress:30},tools:["button-remove"]});const ne=({node:r})=>{const{loading:e}=C();return t.jsx(k,{theme:{components:{Card:{extraColor:"#888"}}},children:t.jsx(m,{size:"small",loading:e,actions:[t.jsx(O,{},"edit"),t.jsx(R,{},"setting"),t.jsx(E,{},"ellipsis")],title:t.jsxs("span",{className:"text-md text-green-500 font-normal",children:[t.jsx(qt,{})," 条件分支"]}),extra:t.jsx("span",{className:"text-md",children:"优先级1"}),children:t.jsx(m.Meta,{description:t.jsx(t.Fragment,{children:t.jsx("p",{children:"请设置条件"})})})})})},Re={shape:"ConditionalBranchNode",width:300,height:125,component:ne,effect:["data"]},xn=()=>I(Re);ne.getNodeConfig=()=>(xn(),{...Re,label:"条件分支",ports:{items:[{group:"in",id:"in1",attrs:{circle:{r:5,magnet:!0,stroke:"#000",strokeWidth:2,fill:"transparent"}}},{group:"in",id:"in2",attrs:{circle:{r:5,magnet:!0,stroke:"#000",strokeWidth:2,fill:"transparent"}}},{group:"out",id:"out1",attrs:{circle:{r:5,magnet:!0,stroke:"#000",strokeWidth:2,fill:"transparent"}}},{group:"out",id:"out2",attrs:{circle:{r:5,magnet:!0,stroke:"#000",strokeWidth:2,fill:"transparent"}}}],groups:{in:{position:{name:"top"},attrs:{fo:{width:12,height:12,x:-6,y:-6,magnet:"true"}},zIndex:1},out:{position:{name:"bottom"},attrs:{fo:{width:12,height:12,x:-6,y:-6,magnet:"true"}},zIndex:1}}},data:{color:"#333232",progress:30},tools:["button-remove"]});const re=({node:r})=>{const{loading:e}=C();return t.jsx(k,{theme:{components:{Card:{extraColor:"#888"}}},children:t.jsx(m,{size:"small",loading:e,actions:[t.jsx(O,{},"edit"),t.jsx(R,{},"setting"),t.jsx(E,{},"ellipsis")],title:t.jsxs("span",{className:"text-md text-purple-500 font-normal",children:[t.jsx(ye,{})," 并行分支"]}),extra:t.jsx("span",{className:"text-md",children:"优先级1"}),children:t.jsx(m.Meta,{description:t.jsx(t.Fragment,{children:t.jsx("p",{children:"并行任务（同时进行）"})})})})})},Ie={shape:"ParallelBranchNode",width:300,height:125,component:re,effect:["data"]},vn=()=>I(Ie);re.getNodeConfig=()=>(vn(),{...Ie,label:"并行分支",ports:{items:[{group:"in",id:"in1",attrs:{circle:{r:5,magnet:!0,stroke:"#000",strokeWidth:2,fill:"transparent"}}},{group:"in",id:"in2",attrs:{circle:{r:5,magnet:!0,stroke:"#000",strokeWidth:2,fill:"transparent"}}},{group:"out",id:"out1",attrs:{circle:{r:5,magnet:!0,stroke:"#000",strokeWidth:2,fill:"transparent"}}},{group:"out",id:"out2",attrs:{circle:{r:5,magnet:!0,stroke:"#000",strokeWidth:2,fill:"transparent"}}}],groups:{in:{position:{name:"top"},attrs:{fo:{width:12,height:12,x:-6,y:-6,magnet:"true"}},zIndex:1},out:{position:{name:"bottom"},attrs:{fo:{width:12,height:12,x:-6,y:-6,magnet:"true"}},zIndex:1}}},data:{color:"#333232",progress:30},tools:["button-remove"]});const oe=({node:r})=>{const{loading:e}=C();return t.jsx(k,{theme:{components:{Card:{extraColor:"#888"}}},children:t.jsx(m,{size:"small",loading:e,actions:[t.jsx(O,{},"edit"),t.jsx(R,{},"setting"),t.jsx(E,{},"ellipsis")],title:t.jsxs("span",{className:"text-md text-blue-500 font-normal",children:[t.jsx(Wt,{})," 包容分支"]}),extra:t.jsx("span",{className:"text-md",children:"优先级1"}),children:t.jsx(m.Meta,{description:t.jsx(t.Fragment,{children:t.jsx("p",{children:"请设置分支条件"})})})})})},Me={shape:"InclusiveBranchNode",width:300,height:125,component:oe,effect:["data"]},bn=()=>I(Me);oe.getNodeConfig=()=>(bn(),{...Me,label:"包容分支",ports:{items:[{group:"in",id:"in1",attrs:{circle:{r:5,magnet:!0,stroke:"#000",strokeWidth:2,fill:"transparent"}}},{group:"in",id:"in2",attrs:{circle:{r:5,magnet:!0,stroke:"#000",strokeWidth:2,fill:"transparent"}}},{group:"out",id:"out1",attrs:{circle:{r:5,magnet:!0,stroke:"#000",strokeWidth:2,fill:"transparent"}}},{group:"out",id:"out2",attrs:{circle:{r:5,magnet:!0,stroke:"#000",strokeWidth:2,fill:"transparent"}}}],groups:{in:{position:{name:"top"},attrs:{fo:{width:12,height:12,x:-6,y:-6,magnet:"true"}},zIndex:1},out:{position:{name:"bottom"},attrs:{fo:{width:12,height:12,x:-6,y:-6,magnet:"true"}},zIndex:1}}},data:{color:"#333232",progress:30},tools:["button-remove"]});const se=({node:r})=>{const{loading:e}=C();return t.jsx(k,{theme:{components:{Card:{headerBg:"#9274e7",extraColor:"#fff"}}},children:t.jsx(m,{size:"small",loading:e,actions:[t.jsx(O,{},"edit"),t.jsx(R,{},"setting"),t.jsx(E,{},"ellipsis")],title:t.jsxs("span",{className:"text-white",children:[t.jsx(Dt,{})," 子流程"]}),extra:t.jsx(H,{className:"font-semibold"}),children:t.jsx(m.Meta,{description:t.jsx(t.Fragment,{children:t.jsx("p",{children:"已选择：？"})})})})})},We={shape:"SubprocessNode",width:300,height:125,component:se,effect:["data"]},jn=()=>I(We);se.getNodeConfig=()=>(jn(),{...We,label:"子流程",ports:{items:[{group:"in",id:"in1",attrs:{circle:{r:5,magnet:!0,stroke:"#000",strokeWidth:2,fill:"transparent"}}},{group:"in",id:"in2",attrs:{circle:{r:5,magnet:!0,stroke:"#000",strokeWidth:2,fill:"transparent"}}},{group:"out",id:"out1",attrs:{circle:{r:5,magnet:!0,stroke:"#000",strokeWidth:2,fill:"transparent"}}},{group:"out",id:"out2",attrs:{circle:{r:5,magnet:!0,stroke:"#000",strokeWidth:2,fill:"transparent"}}}],groups:{in:{position:{name:"top"},attrs:{fo:{width:12,height:12,x:-6,y:-6,magnet:"true"}},zIndex:1},out:{position:{name:"bottom"},attrs:{fo:{width:12,height:12,x:-6,y:-6,magnet:"true"}},zIndex:1}}},data:{color:"#333232",progress:30},tools:["button-remove"]});const ie=({node:r})=>{const{loading:e}=C();return t.jsx(k,{theme:{components:{Card:{headerBg:"#f95166",extraColor:"#fff"}}},children:t.jsx(m,{size:"small",loading:e,actions:[t.jsx(O,{},"edit"),t.jsx(R,{},"setting"),t.jsx(E,{},"ellipsis")],title:t.jsxs("span",{className:"text-white",children:[t.jsx(Pt,{})," 延时等待"]}),extra:t.jsx(H,{className:"font-semibold"}),children:t.jsx(m.Meta,{description:t.jsx(t.Fragment,{children:t.jsx("p",{children:"等待 0 分钟"})})})})})},Ae={shape:"DelayWaitNode",width:300,height:125,component:ie,effect:["data"]},Cn=()=>I(Ae);ie.getNodeConfig=()=>(Cn(),{...Ae,label:"延时等待",ports:{items:[{group:"in",id:"in1",attrs:{circle:{r:5,magnet:!0,stroke:"#000",strokeWidth:2,fill:"transparent"}}},{group:"in",id:"in2",attrs:{circle:{r:5,magnet:!0,stroke:"#000",strokeWidth:2,fill:"transparent"}}},{group:"out",id:"out1",attrs:{circle:{r:5,magnet:!0,stroke:"#000",strokeWidth:2,fill:"transparent"}}},{group:"out",id:"out2",attrs:{circle:{r:5,magnet:!0,stroke:"#000",strokeWidth:2,fill:"transparent"}}}],groups:{in:{position:{name:"top"},attrs:{fo:{width:12,height:12,x:-6,y:-6,magnet:"true"}},zIndex:1},out:{position:{name:"bottom"},attrs:{fo:{width:12,height:12,x:-6,y:-6,magnet:"true"}},zIndex:1}}},data:{color:"#333232",progress:30},tools:["button-remove"]});const ae=({node:r})=>{const{loading:e}=C();return t.jsx(k,{theme:{components:{Card:{headerBg:"#35b881",extraColor:"#fff"}}},children:t.jsx(m,{size:"small",loading:e,actions:[t.jsx(O,{},"edit"),t.jsx(R,{},"setting"),t.jsx(E,{},"ellipsis")],title:t.jsxs("span",{className:"text-white",children:[t.jsx(ye,{})," 触发器"]}),extra:t.jsx(H,{className:"font-semibold"}),children:t.jsx(m.Meta,{description:t.jsx(t.Fragment,{children:t.jsx("p",{children:"发送额外请求"})})})})})},Be={shape:"TriggerNode",width:300,height:125,component:ae,effect:["data"]},yn=()=>I(Be);ae.getNodeConfig=()=>(yn(),{...Be,label:"触发器",ports:{items:[{group:"in",id:"in1",attrs:{circle:{r:5,magnet:!0,stroke:"#000",strokeWidth:2,fill:"transparent"}}},{group:"in",id:"in2",attrs:{circle:{r:5,magnet:!0,stroke:"#000",strokeWidth:2,fill:"transparent"}}},{group:"out",id:"out1",attrs:{circle:{r:5,magnet:!0,stroke:"#000",strokeWidth:2,fill:"transparent"}}},{group:"out",id:"out2",attrs:{circle:{r:5,magnet:!0,stroke:"#000",strokeWidth:2,fill:"transparent"}}}],groups:{in:{position:{name:"top"},attrs:{fo:{width:12,height:12,x:-6,y:-6,magnet:"true"}},zIndex:1},out:{position:{name:"bottom"},attrs:{fo:{width:12,height:12,x:-6,y:-6,magnet:"true"}},zIndex:1}}},data:{color:"#333232",progress:30},tools:["button-remove"]});const wn=[Z.getNodeConfig(),Q.getNodeConfig(),ee.getNodeConfig(),te.getNodeConfig(),ne.getNodeConfig(),re.getNodeConfig(),oe.getNodeConfig(),se.getNodeConfig(),ie.getNodeConfig(),ae.getNodeConfig()],kn={groups:{top:{position:"top",attrs:{circle:{r:5,magnet:!0,stroke:"#31d0c6",strokeWidth:2,fill:"#fff",style:{visibility:"hidden"}}}},right:{position:"right",attrs:{circle:{r:5,magnet:!0,stroke:"#31d0c6",strokeWidth:2,fill:"#fff",style:{visibility:"hidden"}}}},bottom:{position:"bottom",attrs:{circle:{r:5,magnet:!0,stroke:"#31d0c6",strokeWidth:2,fill:"#fff",style:{visibility:"hidden"}}}},left:{position:"left",attrs:{circle:{r:5,magnet:!0,stroke:"#31d0c6",strokeWidth:2,fill:"#fff",style:{visibility:"hidden"}}}}},items:[{group:"top"},{group:"right"},{group:"bottom"},{group:"left"}]},Nn=()=>{const{graph:r,graphDnd:e}=Y(),n=o=>i=>{const u=r.createNode({id:`${Math.random().toString(36).slice(2)}-${Date.now()}`,...o,ports:kn,tools:["button-remove"]});e.start(u,i.nativeEvent)};return t.jsx(m,{title:"节点列表",id:"dnd-container",className:"cursor-pointer text-center",children:wn.map(o=>t.jsx(m.Grid,{className:"text-center font-semibold !w-[50%] !rounded-lg !pl-0 !pr-0",onMouseDown:n(o),children:o.label},o.label))})},{Header:Sn,Sider:fe}=M,Tn=()=>t.jsx(cn,{children:t.jsx(nn,{children:t.jsxs(M,{style:{height:"100%"},children:[t.jsx(Sn,{className:"relative left-0 top-0 bg-white",children:t.jsx(fn,{})}),t.jsxs(M,{style:{height:"100%"},children:[t.jsx(fe,{width:200,theme:"light",children:t.jsx(Nn,{})}),t.jsx(ln,{}),t.jsx(fe,{width:300,theme:"light",children:t.jsx(dn,{})})]})]})})});export{Tn as Component};
