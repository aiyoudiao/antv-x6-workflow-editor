import{r as i,C as A,aS as K,dU as $,dV as H,dW as W,dX as T,a as f,dY as L,dZ as U,d_ as z,d$ as w,e0 as Z,e1 as G,e2 as Y,e3 as J,e4 as F,e5 as Q,e6 as X,f as q,aw as ee,k as t,B as V,l as te,a9 as ne,J as re}from"./index-B5a_V5CT.js";import{b as oe,_ as se}from"./tslib.es6-CwN1OpI9.js";import"./_baseGetTag-cDO26H0h.js";import{d as ae}from"./debounce-DLIxscxz.js";import{u as P}from"./index-CAbc_Jw7.js";import{D as le}from"./index-rWskFc4s.js";import{u as ce,a as ie}from"./index-BNAtvmAu.js";import{u as ue}from"./routerPush-COFJGrF5.js";import{w as me}from"./LeftOutlined-B5gNGnNn.js";import{S as de}from"./index-D0Ca2blj.js";import{I as he}from"./index-DPYKvPA2.js";import{E as fe}from"./index-DfzuTuay.js";import"./index-D2K9x187.js";import"./index-JSO5NstL.js";import"./LangSwitch-Bt6JM9eF.js";import"./index-DVvAdb4u.js";import"./EllipsisOutlined-DohHsQHN.js";import"./Overflow-BkB-zVp7.js";import"./Sider-TGQ1OQvf.js";import"./index-Cg3_3UJK.js";import"./DownOutlined-BSDaAZ2u.js";import"./index-DxK6T3Gv.js";import"./throttle-BJiVXReG.js";import"./SearchOutlined-DGTQd1kE.js";var pe=function(e,n){var o={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(o[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)n.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(o[r[s]]=e[r[s]]);return o};const xe=e=>{const{prefixCls:n,className:o,closeIcon:r,closable:s,type:l,title:h,children:a,footer:j}=e,p=pe(e,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:x}=i.useContext(A),C=x(),m=n||x("modal"),N=K(C),[M,O,k]=$(m,N),v=`${m}-confirm`;let g={};return l?g={closable:s??!1,title:"",footer:"",children:i.createElement(H,Object.assign({},e,{prefixCls:m,confirmPrefixCls:v,rootPrefixCls:C,content:a}))}:g={closable:s??!0,title:h,footer:j!==null&&i.createElement(W,Object.assign({},e)),children:a},M(i.createElement(T,Object.assign({prefixCls:m,className:f(O,`${m}-pure-panel`,l&&v,l&&`${v}-${l}`,o,k,N)},p,{closeIcon:L(m,r),closable:s},g)))},ve=me(xe);function B(e){return w(X(e))}const u=U;u.useModal=z;u.info=function(n){return w(Z(n))};u.success=function(n){return w(G(n))};u.error=function(n){return w(Y(n))};u.warning=B;u.warn=B;u.confirm=function(n){return w(J(n))};u.destroyAll=function(){for(;F.length;){const n=F.pop();n&&n()}};u.config=Q;u._InternalPanelDoNotUseOrYouWillBeFired=ve;function ge(){var e=(typeof global>"u"?"undefined":typeof global)=="object"&&global&&global.Object===Object&&global,n=typeof self=="object"&&self&&self.Object===Object&&self;return e||n}ge()||(global.Date=Date);function ye(e,n){var o,r=q(e),s=(o=n==null?void 0:n.wait)!==null&&o!==void 0?o:1e3,l=i.useMemo(function(){return ae(function(){for(var h=[],a=0;a<arguments.length;a++)h[a]=arguments[a];return r.current.apply(r,oe([],se(h),!1))},s,n)},[]);return ee(function(){l.cancel()}),{run:l,cancel:l.cancel,flush:l.flush}}const d={"operate-shadow":"_operate-shadow_hubcy_1","operate-item":"_operate-item_hubcy_5"},be=e=>t.jsx("svg",{className:"inline-block",viewBox:"0 0 24 24",width:"1em",height:"1em",...e,children:t.jsx("path",{fill:"currentColor",d:"M19 7v4H5.83l3.58-3.59L8 6l-6 6l6 6l1.41-1.42L5.83 13H21V7z"})}),we=e=>t.jsx("svg",{className:"inline-block",viewBox:"0 0 24 24",width:"1em",height:"1em",...e,children:t.jsx("path",{fill:"currentColor",d:"M7.03 9.97h4v8.92l2.01.03V9.97h3.99l-5-5Z"})}),je=e=>t.jsx("svg",{className:"inline-block",viewBox:"0 0 24 24",width:"1em",height:"1em",...e,children:t.jsx("path",{fill:"currentColor",d:"M7.03 13.92h4V5l2.01-.03v8.95h3.99l-5 5Z"})}),Ce=e=>t.jsx("svg",{className:"inline-block",viewBox:"0 0 24 24",width:"1em",height:"1em",...e,children:t.jsx("path",{fill:"currentColor",d:"M1 7h6v2H3v2h4v2H3v2h4v2H1zm10 0h4v2h-4v2h2a2 2 0 0 1 2 2v2c0 1.11-.89 2-2 2H9v-2h4v-2h-2a2 2 0 0 1-2-2V9c0-1.1.9-2 2-2m8 0h2a2 2 0 0 1 2 2v1h-2V9h-2v6h2v-1h2v1c0 1.11-.89 2-2 2h-2a2 2 0 0 1-2-2V9c0-1.1.9-2 2-2"})}),Ne=()=>{const{t:e}=V();return t.jsxs(t.Fragment,{children:[t.jsx(le,{className:"my-2px"}),t.jsxs("div",{className:"h-44px flex-center gap-14px",children:[t.jsxs("span",{className:"flex-y-center",children:[t.jsx(be,{className:f(d["operate-shadow"],d["operate-item"])}),t.jsx("span",{children:e("common.confirm")})]}),t.jsxs("span",{className:"flex-y-center",children:[t.jsx(we,{className:f([d["operate-shadow"],d["operate-item"]])}),t.jsx(je,{className:f(d["operate-shadow"],d["operate-item"])}),t.jsx("span",{children:e("common.switch")})]}),t.jsxs("span",{className:"flex-y-center",children:[t.jsx(Ce,{className:f(d["operate-shadow"],d["operate-item"])}),t.jsx("span",{children:e("common.close")})]})]})]})},Se=i.memo(Ne),Pe=e=>t.jsx("svg",{className:"inline-block",viewBox:"0 0 1024 1024",width:"1em",height:"1em",...e,children:t.jsx("path",{fill:"currentColor",d:"M864 170h-60c-4.4 0-8 3.6-8 8v518H310v-73c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 0 0 0 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-75h498c35.3 0 64-28.7 64-64V178c0-4.4-3.6-8-8-8"})}),Me=i.memo(({menu:e,active:n,setActiveRouteName:o,enter:r})=>{function s(){o(e.key)}return t.jsxs("div",{className:f("mt-8px h-56px flex-y-center cursor-pointer justify-between rounded-4px bg-#e5e7eb  px-14px dark:bg-dark",{"bg-primary":n},{"text-#fff":n}),onMouseEnter:s,onClick:r,children:[t.jsxs("span",{className:"ml-5px flex-1",children:[e.icon,e.label]}),t.jsx(Pe,{})]})});function D(e,n=[]){return e&&e.length===0?[]:e.reduce((o,r)=>(r.children||o.push(r),r.children&&r.children.length>0&&D(r.children,n),o),n)}const Xe=i.memo(({show:e,onClose:n})=>{const o=te(ne),{t:r}=V(),{allMenus:s}=ce(),[l,h]=i.useState(""),[a,j]=i.useState([]),[p,x]=i.useState(""),C=i.useMemo(()=>D(s),[s]);function m(){setTimeout(()=>{n(),j([]),h("")},200)}function N(){var b;const c=C.filter(E=>{var _;const S=l.toLocaleLowerCase().trim();return S&&((_=E.title)==null?void 0:_.includes(S))}),y=((b=c[0])==null?void 0:b.key)??"";j(c),x(y)}function M(){v(-1)}function O(){v(1)}function k(){return a.findIndex(c=>c.key===p)}function v(c){const{length:y}=a;if(y===0)return;const b=k();if(b===-1)return;const E=(b+c+y)%y,S=a[E].key;x(S)}const g=ue(),R=ye(N,{wait:300});function I(){a.length===0||p===""||(m(),g.routerPushByKeyWithMetaQuery(p))}return P("Escape",m),P("Enter",I),P("uparrow",M),P("downarrow",O),t.jsxs(u,{footer:o?null:t.jsx(Se,{}),styles:{content:{paddingBottom:0,height:o?"100vh":"100%"}},style:o?{margin:0,padding:0,maxWidth:"100%"}:void 0,height:o?"100%":400,open:e,width:o?"100%":630,className:f({"top-0px rounded-0":o}),onCancel:n,closable:!1,children:[t.jsxs(de.Compact,{className:"w-full",children:[t.jsx(he,{allowClear:!0,onInput:R.run,prefix:t.jsx(ie,{className:"text-15px text-#c2c2c2"}),placeholder:r("common.keywordSearch"),onChange:c=>h(c.target.value),value:l}),o&&t.jsx(re,{onClick:m,type:"primary",ghost:!0,children:r("common.cancel")})]}),t.jsx("div",{className:"mt-20px",children:a.length===0?t.jsx(fe,{}):a.map(c=>t.jsx(Me,{enter:I,active:c.key===p,setActiveRouteName:x,menu:c},c.key))})]})});export{Xe as default};
