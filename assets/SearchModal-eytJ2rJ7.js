import{f as R,r as c,ay as H,k as e,B as k,a as h,l as I,a9 as V,J as A}from"./index-DfAWM7Uj.js";import{b as L,_ as P}from"./tslib.es6-CwN1OpI9.js";import"./_baseGetTag-c0LbwaFz.js";import{d as T}from"./debounce-5hLAmd4H.js";import{u as v}from"./index-Cikm4o01.js";import{D as F}from"./index-MtV7W3Q6.js";import{u as U,a as W}from"./index-pV7UwDCI.js";import{u as z}from"./routerPush-B1XpCpcN.js";import{M as Z}from"./index-DYCft3gy.js";import{S as G}from"./index-nsy-GI2o.js";import{I as J}from"./index-Du27hh2x.js";import{E as Q}from"./index-uCHymJru.js";import"./index-B-AVClao.js";import"./index-sOSXyXkp.js";import"./LangSwitch-DiSOFU7K.js";import"./index-fHc6rZkD.js";import"./EllipsisOutlined-C5eoGF3r.js";import"./LeftOutlined-DLFyN00L.js";import"./Sider-jJK_ErxS.js";import"./move-CAAY159v.js";import"./index-CzDRKVq5.js";import"./DownOutlined-bfThPeYy.js";import"./index-BEUvOs0q.js";import"./throttle-B3yUBlSy.js";import"./toNumber-Ch91Usde.js";import"./SearchOutlined-m8FNZFWf.js";function $(){var t=(typeof global>"u"?"undefined":typeof global)=="object"&&global&&global.Object===Object&&global,r=typeof self=="object"&&self&&self.Object===Object&&self;return t||r}$()||(global.Date=Date);function q(t,r){var s,o=R(t),m=(s=r==null?void 0:r.wait)!==null&&s!==void 0?s:1e3,i=c.useMemo(function(){return T(function(){for(var u=[],a=0;a<arguments.length;a++)u[a]=arguments[a];return o.current.apply(o,L([],P(u),!1))},m,r)},[]);return H(function(){i.cancel()}),{run:i,cancel:i.cancel,flush:i.flush}}const l={"operate-shadow":"_operate-shadow_hubcy_1","operate-item":"_operate-item_hubcy_5"},X=t=>e.jsx("svg",{className:"inline-block",viewBox:"0 0 24 24",width:"1em",height:"1em",...t,children:e.jsx("path",{fill:"currentColor",d:"M19 7v4H5.83l3.58-3.59L8 6l-6 6l6 6l1.41-1.42L5.83 13H21V7z"})}),Y=t=>e.jsx("svg",{className:"inline-block",viewBox:"0 0 24 24",width:"1em",height:"1em",...t,children:e.jsx("path",{fill:"currentColor",d:"M7.03 9.97h4v8.92l2.01.03V9.97h3.99l-5-5Z"})}),ee=t=>e.jsx("svg",{className:"inline-block",viewBox:"0 0 24 24",width:"1em",height:"1em",...t,children:e.jsx("path",{fill:"currentColor",d:"M7.03 13.92h4V5l2.01-.03v8.95h3.99l-5 5Z"})}),te=t=>e.jsx("svg",{className:"inline-block",viewBox:"0 0 24 24",width:"1em",height:"1em",...t,children:e.jsx("path",{fill:"currentColor",d:"M1 7h6v2H3v2h4v2H3v2h4v2H1zm10 0h4v2h-4v2h2a2 2 0 0 1 2 2v2c0 1.11-.89 2-2 2H9v-2h4v-2h-2a2 2 0 0 1-2-2V9c0-1.1.9-2 2-2m8 0h2a2 2 0 0 1 2 2v1h-2V9h-2v6h2v-1h2v1c0 1.11-.89 2-2 2h-2a2 2 0 0 1-2-2V9c0-1.1.9-2 2-2"})}),se=()=>{const{t}=k();return e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"my-2px"}),e.jsxs("div",{className:"h-44px flex-center gap-14px",children:[e.jsxs("span",{className:"flex-y-center",children:[e.jsx(X,{className:h(l["operate-shadow"],l["operate-item"])}),e.jsx("span",{children:t("common.confirm")})]}),e.jsxs("span",{className:"flex-y-center",children:[e.jsx(Y,{className:h([l["operate-shadow"],l["operate-item"]])}),e.jsx(ee,{className:h(l["operate-shadow"],l["operate-item"])}),e.jsx("span",{children:t("common.switch")})]}),e.jsxs("span",{className:"flex-y-center",children:[e.jsx(te,{className:h(l["operate-shadow"],l["operate-item"])}),e.jsx("span",{children:t("common.close")})]})]})]})},re=c.memo(se),oe=t=>e.jsx("svg",{className:"inline-block",viewBox:"0 0 1024 1024",width:"1em",height:"1em",...t,children:e.jsx("path",{fill:"currentColor",d:"M864 170h-60c-4.4 0-8 3.6-8 8v518H310v-73c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 0 0 0 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-75h498c35.3 0 64-28.7 64-64V178c0-4.4-3.6-8-8-8"})}),ne=c.memo(({menu:t,active:r,setActiveRouteName:s,enter:o})=>{function m(){s(t.key)}return e.jsxs("div",{className:h("mt-8px h-56px flex-y-center cursor-pointer justify-between rounded-4px bg-#e5e7eb  px-14px dark:bg-dark",{"bg-primary":r},{"text-#fff":r}),onMouseEnter:m,onClick:o,children:[e.jsxs("span",{className:"ml-5px flex-1",children:[t.icon,t.label]}),e.jsx(oe,{})]})});function S(t,r=[]){return t&&t.length===0?[]:t.reduce((s,o)=>(o.children||s.push(o),o.children&&o.children.length>0&&S(o.children,r),s),r)}const Ke=c.memo(({show:t,onClose:r})=>{const s=I(V),{t:o}=k(),{allMenus:m}=U(),[i,u]=c.useState(""),[a,b]=c.useState([]),[f,j]=c.useState(""),C=c.useMemo(()=>S(m),[m]);function g(){setTimeout(()=>{r(),b([]),u("")},200)}function E(){var p;const n=C.filter(y=>{var M;const x=i.toLocaleLowerCase().trim();return x&&((M=y.title)==null?void 0:M.includes(x))}),d=((p=n[0])==null?void 0:p.key)??"";b(n),j(d)}function B(){w(-1)}function _(){w(1)}function D(){return a.findIndex(n=>n.key===f)}function w(n){const{length:d}=a;if(d===0)return;const p=D();if(p===-1)return;const y=(p+n+d)%d,x=a[y].key;j(x)}const K=z(),O=q(E,{wait:300});function N(){a.length===0||f===""||(g(),K.routerPushByKeyWithMetaQuery(f))}return v("Escape",g),v("Enter",N),v("uparrow",B),v("downarrow",_),e.jsxs(Z,{footer:s?null:e.jsx(re,{}),styles:{content:{paddingBottom:0,height:s?"100vh":"100%"}},style:s?{margin:0,padding:0,maxWidth:"100%"}:void 0,height:s?"100%":400,open:t,width:s?"100%":630,className:h({"top-0px rounded-0":s}),onCancel:r,closable:!1,children:[e.jsxs(G.Compact,{className:"w-full",children:[e.jsx(J,{allowClear:!0,onInput:O.run,prefix:e.jsx(W,{className:"text-15px text-#c2c2c2"}),placeholder:o("common.keywordSearch"),onChange:n=>u(n.target.value),value:i}),s&&e.jsx(A,{onClick:g,type:"primary",ghost:!0,children:o("common.cancel")})]}),e.jsx("div",{className:"mt-20px",children:a.length===0?e.jsx(Q,{}):a.map(n=>e.jsx(ne,{enter:N,active:n.key===f,setActiveRouteName:j,menu:n},n.key))})]})});export{Ke as default};
